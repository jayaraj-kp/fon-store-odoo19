<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--
        Extends the POS partner create/edit dialog form view.
        The POS opens this backend form as a dialog (no JS needed).
        We inherit res_partner_view_form_pos from point_of_sale module.
    -->
    <record id="res_partner_view_form_pos_gstin_tags" model="ir.ui.view">
        <field name="name">res.partner.view.form.pos.gstin.tags</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="point_of_sale.res_partner_view_form_pos"/>
        <field name="arch" type="xml">

            <!--
                Add GSTIN (vat) and Tags (category_id) after the Notes (comment) field.
                'comment' is the internal field name for the "Notes" field on res.partner.
            -->
            <xpath expr="//field[@name='comment']" position="after">

                <div class="o_horizontal_separator mt-2 mb-2">
                    Additional Info
                </div>

                <!-- GSTIN / Tax ID -->
                <group>
                    <field name="vat"
                           string="GSTIN / Tax ID"
                           placeholder="e.g. 22AAAAA0000A1Z5"/>
                </group>

                <!-- Contact Tags -->
                <group>
                    <field name="category_id"
                           string="Tags"
                           widget="many2many_tags"
                           options="{'color_field': 'color'}"/>
                </group>

            </xpath>
        </field>
    </record>
</odoo>