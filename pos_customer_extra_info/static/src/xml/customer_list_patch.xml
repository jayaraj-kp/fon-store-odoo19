<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Patch the partner line to add extra columns -->
    <t t-name="point_of_sale.PartnerLine" owl="1" t-inherit="point_of_sale.PartnerLine" t-inherit-mode="extension">
        <xpath expr="//div[hasclass('partner-info')]" position="after">
            <t t-set="extra" t-value="props.parent.getExtraInfo(props.partner.id)"/>
            <div class="partner-extra-info">
                <span t-if="extra.last_invoice_name" class="extra-badge invoice-badge" t-att-title="'Last Invoice: ' + extra.last_invoice_name">
                    <i class="fa fa-file-text-o"/> <t t-esc="extra.last_invoice_name"/>
                </span>
                <span t-if="extra.last_invoice_date" class="extra-badge date-badge" t-att-title="'Last Visit: ' + extra.last_invoice_date">
                    <i class="fa fa-calendar"/> <t t-esc="extra.last_invoice_date"/>
                </span>
                <span t-if="extra.invoice_count" class="extra-badge count-badge" t-att-title="extra.invoice_count + ' invoice(s)'">
                    <i class="fa fa-hashtag"/> <t t-esc="extra.invoice_count"/>
                </span>
                <span t-if="extra.tags" class="extra-badge tag-badge" t-att-title="'Tags: ' + extra.tags">
                    <i class="fa fa-tag"/> <t t-esc="extra.tags"/>
                </span>
            </div>
        </xpath>
    </t>

</templates>
